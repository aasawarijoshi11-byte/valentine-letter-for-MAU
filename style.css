:root{
  --ink: #2a2a2a;
  --soft-ink: rgba(42,42,42,0.72);
  --paper: #fffaf2;
  --paper-edge: rgba(0,0,0,0.08);
  --pink: #ff7fb1;
  --pink2:#ffb3cf;
  --sky1:#dff5ff;
  --sky2:#fff1f8;
  --leaf:#9ad9b3;
}

*{ box-sizing:border-box; }
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family: "Quicksand", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--ink);
  overflow:hidden;

  /* dreamy sky gradient */
  background: radial-gradient(circle at 20% 20%, var(--sky1), transparent 55%),
              radial-gradient(circle at 80% 0%, #fff8d7, transparent 50%),
              radial-gradient(circle at 60% 80%, var(--sky2), transparent 55%),
              linear-gradient(135deg, #f7fbff, #fff6fa);
}

/* subtle "Ghibli-ish" floating specks */
body::before{
  content:"";
  position:fixed; inset:0;
  background:
    radial-gradient(rgba(255,255,255,0.55) 1px, transparent 1px) 0 0/28px 28px,
    radial-gradient(rgba(255,255,255,0.35) 1px, transparent 1px) 10px 10px/36px 36px;
  pointer-events:none;
  opacity:0.35;
}

.container{
  width:min(680px, 92vw);
  padding:18px;
  position:relative;
  z-index:2;
}

.card{
  border-radius:22px;
  padding:22px;
  background: rgba(255,255,255,0.65);
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 55px rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.7);
}

.envelope-wrap{
  text-align:center;
  padding:22px 12px 10px;
  cursor:pointer;
  user-select:none;
}

.hint{
  font-family:"Patrick Hand", cursive;
  font-size:22px;
  color:var(--soft-ink);
  margin-bottom:14px;
}

.subhint{
  margin-top:12px;
  color:rgba(0,0,0,0.55);
  font-size:14px;
}

/* Envelope */
.envelope{
  width:280px;
  height:180px;
  margin:0 auto;
  position:relative;
  transform: translateZ(0);
  transition: transform 0.35s ease;
  filter: drop-shadow(0 14px 24px rgba(0,0,0,0.18));
}

.envelope:hover{
  transform: scale(1.03) rotate(-0.2deg);
}

.envelope .body{
  position:absolute;
  inset:0;
  background: linear-gradient(180deg, var(--pink2), var(--pink));
  border-radius:16px;
  border: 2px solid rgba(255,255,255,0.55);
}

.envelope .flap{
  position:absolute;
  top:-2px; left:0; right:0;
  height:120px;
  background: linear-gradient(180deg, #ffd0e2, var(--pink2));
  clip-path: polygon(0 0, 100% 0, 50% 85%);
  border-radius:16px 16px 8px 8px;
  transform-origin: top center;
  transition: transform 0.7s cubic-bezier(.2,.9,.2,1);
  border: 2px solid rgba(255,255,255,0.55);
}

.envelope .seal{
  position:absolute;
  left:50%;
  top:58%;
  transform: translate(-50%, -50%);
  width:46px;
  height:46px;
  border-radius:50%;
  background: rgba(255,255,255,0.75);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  box-shadow: 0 10px 18px rgba(0,0,0,0.12);
}

/* Open state */
.open .flap{
  transform: rotateX(180deg);
}

.letter{
  display:none;
  margin-top:18px;
  border-radius:18px;
  overflow:hidden;
  border: 1px solid rgba(255,255,255,0.7);
}

.letter-top{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:16px 18px;
  background: rgba(255,255,255,0.75);
}

.letter-top h2{
  margin:0;
  font-family:"Patrick Hand", cursive;
  font-size:30px;
}

.music-btn{
  border:none;
  background: rgba(255,255,255,0.85);
  padding:10px 12px;
  border-radius:12px;
  cursor:pointer;
  box-shadow: 0 10px 20px rgba(0,0,0,0.08);
  font-weight:600;
}
.music-btn:hover{ transform: translateY(-1px); }

.paper{
  background: var(--paper);
  padding:22px 20px;
  position:relative;
  box-shadow: inset 0 0 0 1px var(--paper-edge);
}

/* paper texture (soft) */
.paper::before{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(rgba(0,0,0,0.03) 1px, transparent 1px) 0 0/22px 22px;
  opacity:0.5;
  pointer-events:none;
}

.paper p{
  position:relative;
  margin: 0 0 14px;
  font-family:"Patrick Hand", cursive;
  font-size:22px;
  line-height:1.35;
  color: rgba(42,42,42,0.88);
}

.emphasis{
  font-size:26px !important;
  color: rgba(0,0,0,0.78);
}

.signature{
  margin-top:18px !important;
  font-size:24px !important;
}

.footer-note{
  padding:12px 18px;
  background: rgba(255,255,255,0.7);
  color: rgba(0,0,0,0.55);
  font-size:13px;
}

@keyframes fadeInUp{
  from { opacity:0; transform: translateY(8px); }
  to   { opacity:1; transform: translateY(0); }
}

.show{
  display:block;
  animation: fadeInUp 0.9s ease forwards;
}

/* Falling hearts */
#hearts{
  position:fixed;
  inset:0;
  overflow:hidden;
  pointer-events:none;
  z-index:1;
}

.heart{
  position:absolute;
  top:-20px;
  font-size: 18px;
  opacity: 0.85;
  animation: fall linear forwards;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,0.12));
}

@keyframes fall{
  to{
    transform: translateY(110vh) rotate(160deg);
    opacity: 0.0;
  }
}